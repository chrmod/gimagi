<head>
  <title>gimagi</title>
</head>

<body>
  <h1>Welcome to GimaGi!</h1>
  {{> loginButtons}}
  {{> home}}
</body>

<template name="home">
  <button class="show-details">initiate new meeting</button>
  {{#if detailsMode}}
	{{> meeting_details}}
  {{/if}}
  {{#each meetings}}
  	{{> meeting_box}}
  {{/each}}

</template>

<template name="meeting_box">
  <div class="meeting-box">{{name}}</div>
  {{#if showDetails}}
  	{{> meeting_details}}
  {{/if}}
  <span>is pending on me: {{isPendingOnMe}}</span>
  {{> pending_on_me}}
  {{#each proposals}}
  {{ this }}
  {{/each}}
</template>
	
<template name="meeting_details">
  <form class="meeting-details">
    <input type="text" name="name" value="{{name}}" placeholder="Meeting name..." required/>
    <input type="date" name="from" value="{{from}}" placeholder="From..." />
    <input type="date" name="to" value="{{to}}" placeholder="To..." />
    <input type="text" name="duration" value="{{duration}}" placeholder="Duration..." />
    <input type="text" name="description" value="{{description}}" placeholder="Description..." />
    <input type="text" name="constraints" value="{{constraints}}" placeholder="Constraints..." />
    <input type="text" name="people" value="{{#each people}} {{this}} {{/each}}" placeholder="people..." required/>
    <span>Status: {{status}}</span>
    <span>Pending On: {{#each pendingon}} {{this}} {{/each}}</span>
    <input type="submit" value="initiate"/>
  </form>
</template>

<template name="pending_on_me">
	<div>This meeting is pending on you:</div>
	<div>{{date}}</div>
	<input id="agree" type="button" value="agree" />
	<input type="button" value="suggest another date" />
	<input id="opt-out" type="button" value="suggest another date" />
</template>