<head>
  <title>gimagi</title>
</head>

<body>
  <h1>Welcome to GimaGi!</h1>
  {{> loginButtons}}
  {{> home}}
</body>

<template name="home">
  <button class="show-details">initiate new meeting</button>
  {{#if detailsMode}}
	{{> meeting_details}}
  {{/if}}
  {{#each meetings}}
  	{{> meeting_box}}
  {{/each}}

</template>

<template name="meeting_box">
  <div class="meeting-box">{{name}}</div>
  <p>Status: {{status}}</p>
  {{#if isPendingOnMe}}
  	{{> pending_on_me}}
  {{else}}
  	{{#if showDetails}}
  	  {{> meeting_details}}
    {{/if}}
  {{/if}}
  <p>{{ current_proposal }}</p>
  <!-- {{#each proposals}}
  {{ proposals[0] }}
  {{/each}} -->
</template>
	
<template name="meeting_details">
  <form class="meeting-details">
    <input type="text" name="name" value="{{name}}" placeholder="Meeting name..." required/>
    <input type="date" name="from" value="{{from}}" placeholder="From..." />
    <input type="date" name="to" value="{{to}}" placeholder="To..." />
    <input type="text" name="duration" value="{{duration}}" placeholder="Duration..." />
    <input type="text" name="description" value="{{description}}" placeholder="Description..." />
    <input type="text" name="constraints" value="{{constraints}}" placeholder="Constraints..." />
    <input type="text" name="people" value="{{#each people}} {{this}} {{/each}}" placeholder="people..." required/>
    <input type="submit" value="initiate"/>
  </form>
</template>

<template name="pending_on_me">
	<div>This meeting is pending on you:</div>
	<div>{{date}}</div>
	<input id="agree" type="button" value="agree" />
	<input id="suggest-other" type="button" value="suggest another date" />
	<input id="opt-out" type="button" value="opt-out" />
	{{#if suggestMode}}
	  {{> suggest_other}}
	{{/if}}
</template>

<template name="suggest_other">
  <div>Please select:</div>
  {{#each proposals}}
    <div id="proposal">{{this}}</div>
  {{/each}}
</template>